# AngularDependency
Repository with code used for my Bachelor thesis about angular patterns in the light detection rates of a WOM tube.

# Prerequisites
The code presented here requires an installation of CERN's ROOT software (https://root.cern/). It does not work on its own; instead, it was designed to post-process ```.root``` files that were generated by the RootReader program (https://github.com/Uni2K/RootReader, courtesy of Jan Zimmermann).
The WomDSimulation.cpp file does not require the RootReader, but **does** require ROOT to be installed. 

# How to use
The WomDSimulation.cpp file can be compiled and run by executing the WomDSimulation.sh script. This is independent of the RootReader, but does require an installation of ROOT. For all other files, do the following:

Once ROOT is installed and the RootReader is set up, go to the RootReader/src directory. There, replace the ```read.C``` file by the file of the same name provided in this repository. This should work as of march 2021. If the RootReader has since been updated, instead copy the parts from the file provided here which are commented with "JOSCHA", and insert them in the right places of the RootReader's ```read.C``` file.

Once this is done, use the RootReader as usual.

Now, you can run the ```PhotonCountDistribution.sh``` file, which will compile and run the corresponding ```.cpp``` file. This program generates ```.txt``` files which are needed to run ```AngularDistribution.sh``` (which compiles and runs ```AngularDistribution.cpp```) and ```MeanAngles.sh``` (which compiles and runs ```MeanAngles.cpp```).

The file structure in which you run the program should be structured as follows:

Parent Directory
  - a directory named ```data```, which contains all ```.root``` files you want to analyze (generated by the modified version of the RootReader)
  - a directory named ```distData```, which contains the ```.root``` files for positions 9, 10 and 11
  - a directory named ```programs```, which contains all the ```.cpp``` and ```.sh``` files provided here
  - a directory named ```runs```, in which the results are stored. This directory should contain the following subdirectories, in which the results of the corresponding programs are stored:
    -  ```AngularDistribution```
    -  ```MeanAngles```
    -  ```PhotonCountDistribution```
    -  ```WomDSimulation```
